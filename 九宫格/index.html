<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>九宫格效果</title>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
				list-style: none;
			}
			#top{
				margin: 15px;
			}
			#bottom{
			    position: relative;
			}
			.box{
				height: 360px;
				width: 220px;
				margin: 0 15px 15px 0;
				background-color: #e8e8e8;
			}
			.box p:last-child{
				padding-top: 5px;
				font-size: 13px;
				color: orangered;
			}
		</style>
	</head>	
	<body>
		<div id="top">
			<button type="button">实现3列布局</button>
			<button type="button">实现4列布局</button>
			<button type="button">实现5列布局</button>
			<button type="button">实现6列布局</button>
			<button type="button">实现7列布局</button>
			<button type="button">实现8列布局</button>
		</div>
		<div id="bottom">
			<div class="box">
			    <img src="images/1.jpg" alt="">
			    <p>因为遇见你</p>
			    <p>孙怡邓伦牵手演绎刺绣奇缘</p>
			</div>
			<div class="box">
			    <img src="images/2.jpg" alt="">
			    <p>因为遇见你</p>
			    <p>孙怡邓伦牵手演绎刺绣奇缘</p>
			</div>
			<div class="box">
			    <img src="images/3.jpg" alt="">
			    <p>因为遇见你</p>
			    <p>孙怡邓伦牵手演绎刺绣奇缘</p>
			</div>
			<div class="box">
			    <img src="images/4.jpg" alt="">
			    <p>因为遇见你</p>
			    <p>孙怡邓伦牵手演绎刺绣奇缘</p>
			</div>
			<div class="box">
			    <img src="images/5.jpg" alt="">
			    <p>因为遇见你</p>
			    <p>孙怡邓伦牵手演绎刺绣奇缘</p>
			</div>
			<div class="box">
			    <img src="images/6.jpg" alt="">
			    <p>因为遇见你</p>
			    <p>孙怡邓伦牵手演绎刺绣奇缘</p>
			</div>
			<div class="box">
			    <img src="images/7.jpg" alt="">
			    <p>因为遇见你</p>
			    <p>孙怡邓伦牵手演绎刺绣奇缘</p>
			</div>
			<div class="box">
			    <img src="images/8.jpg" alt="">
			    <p>因为遇见你</p>
			    <p>孙怡邓伦牵手演绎刺绣奇缘</p>
			</div>
			<div class="box">
			    <img src="images/9.jpg" alt="">
			    <p>因为遇见你</p>
			    <p>孙怡邓伦牵手演绎刺绣奇缘</p>
			</div>
			<div class="box">
			    <img src="images/10.jpg" alt="">
			    <p>因为遇见你</p>
			    <p>孙怡邓伦牵手演绎刺绣奇缘</p>
			</div>
			<div class="box">
			    <img src="images/11.jpg" alt="">
			    <p>因为遇见你</p>
			    <p>孙怡邓伦牵手演绎刺绣奇缘</p>
			</div>
			<div class="box">
			    <img src="images/12.jpg" alt="">
			    <p>因为遇见你</p>
			    <p>孙怡邓伦牵手演绎刺绣奇缘</p>
			</div>
			<div class="box">
			    <img src="images/13.jpg" alt="">
			    <p>因为遇见你</p>
			    <p>孙怡邓伦牵手演绎刺绣奇缘</p>
			</div>
			<div class="box">
			    <img src="images/14.jpg" alt="">
			    <p>因为遇见你</p>
			    <p>孙怡邓伦牵手演绎刺绣奇缘</p>
			</div>
			<div class="box">
			    <img src="images/15.jpg" alt="">
			    <p>因为遇见你</p>
			    <p>孙怡邓伦牵手演绎刺绣奇缘</p>
			</div>
		</div>
		<script type="text/javascript">
			window.onload = function(){
			//标签定义
			var btns = document.getElementById("top").children;
			var bottom = document.getElementById("bottom");
			//监听事件
			btns[0].onclick = function(){
				j_flex(3,bottom);
			};
			btns[1].onclick = function(){
				j_flex(4,bottom);
			};
			btns[2].onclick = function(){
				j_flex(5,bottom);
			};
			btns[3].onclick = function(){
				j_flex(6,bottom);
			};
			btns[4].onclick = function(){
				j_flex(7,bottom);
			};
			btns[5].onclick = function(){
				j_flex(8,bottom);
			};
			
			function j_flex(allCols,parentNode){
				var divW = 220, divH = 360, divM = 15;
				for(var i=0;i<parentNode.children.length;i++){
					var col = parseInt(i % allCols);
					var row = parseInt(i / allCols);
					var currentBox = parentNode.children[i];
					currentBox.style.position = 'absolute';
					currentBox.style.left = col * (divW + divM) + 'px';
					currentBox.style.top = row * (divH) + 'px';
					}
				}
			}
		</script>
	</body>
</html>
